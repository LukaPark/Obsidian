
- Amazon Route 53 은 가용성, 확장성이 뛰어난 DNS 웹 서비스.
- 직접 도메인을 구입하거나 구입한 도메인을 연결해서 사용 가능.
- Route53 은 사용자의 요청을 EC2 인스턴스, ELB 로드 밸런서, S3 버킷 등 AWS 에서 실행하는 인프라에 효과적으로 연결되고, AWS 외부의 인프라로 라우팅 하는데도 Route 53 사용이 가능.

- Route 53 트래픽 흐름을 사용하면 지연시간 기반 라우팅 가능.
- 동적으로 사용자에게 노출될 DNS 레코드 타입과 값 조정


#호스팅영역

1. **호스팅 영역**이란, 레코드의 컨테이너.
2. **레코드**에는 특정 도메인 (예: example.com)과 그 하위 도메인 (예: api.example.com)의 트래픽을 라우팅 하는 방식에 대한 레코드의 정보들을 모아놓은 곳.
3. **퍼블릭 호스팅 영역** : 인터넷에서 트래픽을 라우팅 하고자 하는 방법을 지정하는 레코드를 포함한다.  일반적인 도메인을 의미
4. **프라이빗 호스팅 영역** : Amazon VPC 에서 트래픽을 라우팅하고자 하는 방법을 지정하는 레코드를 포함. Route 53을 이용하여 지정한 VPC에서 요청한 DNS 쿼리 응답을 반환하는 일종의 컨테이너.  VPC 내 AWS 서비스들의 사설 IP 대신 도메인으로 이용하고 할 때 사용하는 영역.


#NS 
- **네임서버 레코드** 
- 도메인에 대한 네임서버의 권한을 가지고 있는지 알려주는 레코드.
- 예를 들어. naver.com의 NS 레코드는 e-ns.navet.com, ns1.naver.com, ns2.naver.com.

#SOA
- **Start of authority** (**권한 시작**) 레코드
- 도메인의 정보를 가지고 있는 레코드
- 예를 들어. naver의 경우. ns1.naver.com webmaster.naver.com 2021012809 21600 1800 1209600 180 <= 이렇게 나타나는데, 
- 각각 마스터 네임서버, Zone 관리자 연락처, Zone 데이터 동기화 시간, 갱신 주기, 시도, 만료 등 정보를 나타내고 있음.

#레코드
- **레코드 이름**: 라우팅 할 이름을 지정, 지정하지 않으면 기본 도메인 이름이 설정.
- **레코드 유형**: DNS 레코드를 선택하는 항목. ec2로 라우팅 시 IPv4로 라우팅.
- **값**: 라우팅 할 ec2의 IPv4를 입력. 다른 AWS 리소스로 라우팅이 가능한 유형의 경우 -> 별칭을 체크하면 라우팅 가능한 서비스를 선택할 수 있음.
- **TTL (Time to Live)**: DNS에 IP주소를 저장할 시간(초). health check 기능을 사용 할 경우 AWS에서는 60초 이하를 권장.
- **라우팅 정잭**: 트래픽에 대한 라우팅방법 선택
	- 단순 - 표준 DNS 기능 사용
	- 가중치 기반 - 각 리소스에 보낼 트래픽을 지정 가능
	- 지리적 위치 - 지정한 위치의 가까운 사용자의 트래픽을 라우팅
	- 지연 시간 - 지연시간이 가장 짧은 리전으로 트래픽을 라우팅
	- 장애 조치 - 정상 상태일때만 트래픽을 라우팅
	- 다중값 응답 - DNS의 look up 시 ip값을 다중으로 반환하도록 구성

#DNS레코드
- **DNS Record**는 DNS 서버가 해당 패킷을 받았을 때 어떤식으로 처리할 지를 나타내는 지침.
- DNS 상에서 도메인에 관한 설정을 하기 위해 사용되는 일련의 설정 문자.
- DNS 레코드에는 서버가 요청을 응답하는 방법에 대한 다양한 구문과 명령이 포함.

A : 해당 도메인 주소가 가지는 IP (1:1).
CNAME : 별칭을 부여한 특정 도메인 주소.
MX : 메일을 주고 받기 위한 서비스 레코드.
TXT : 일반적인 텍스트 내용을 기록, String.
SOA : 도메인의 시작점 (Start of Authority).
HINFO : 호스트의 CPU 정보와 운영체제 정보.
MINFO : 메일박스와 메일 리스트 정보.
PTR : IP 주소에 대한 호스트 명.
UINFO : 사용자 정보.
ANY : 호스트에 관련된 모든 레코드들의 정보.
AAAA : IPv6 버전 A 레코드.
SRV : 비슷한 TCP/IP 서비스를 제공하는 다수의 서버 위치 정보.
NS : 영역을 풀이할 수 있는 DNS 서버 목록.


# A 레코드
- DNS에 저장되는 정보의 타입.
- 도메인 주소와 서버의 IP 주소가 직접 매핑 시키는 방법.
- A 레코드는 반드시 도메인과 아이피의 1:1 매칭이 될 필요는 없음.
- 도메인 매핑 설정에 따라서 **일대다** / **다대일** 관계도 가능.

# CNAME (Canonical Name Record)
- **도메인 별명 레코드**,
- 도메인 주소를 또 다른 도메인 주소로 이중 매핑 시키는 DNS 레코드 타입.
- **CNAME** 레코드는 무조건 다른 도메인 주소를 등록해야 하며, A 레코드 처럼 직접 IP 주소를 등록해서는 안 됨.


# A 레코드 vs CNAME 장단점.
- A 레코드
	- 장점: 한번의 요청으로 찾아갈 서버의 IP 주소를 한번에 알 수 있다
	- 단점: IP 주소가 자주 바뀌는 환경에서는 번거로울 수 있음.
	- 실 서버 IP 가 업데이트로 인해 변경되었을 경우 일일이 도메인의 A 레코드를 변경해야 하기 때문.




